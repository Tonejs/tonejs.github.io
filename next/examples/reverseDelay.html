<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Reverse Delay</title>

		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, maximum-scale=1"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="174x174"
			href="./favicon.png"
		/>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.4.3/webcomponents-bundle.js"></script>
		<link
			href="https://fonts.googleapis.com/css?family=Material+Icons&display=block"
			rel="stylesheet"
		/>
		<script src="../build/Tone.js"></script>
		<script src="./js/tone-ui.js"></script>
		<script src="./js/components.js"></script>
	</head>
	<body>
		<tone-example label="Reverse Delay">
			<tone-loader></tone-loader>

			<div slot="explanation">
				The <a href="https://tonejs.github.io/docs/latest/classes/ReverseDelay"
					>Tone.ReverseDelay</a> is a feedback delay where the echoes are played in reverse. If the delayTime is 1 second, each second will play the input from the previous second in reverse, and the reversed signal will repeat and fade like a feedback delay.
			</div>

			<div id="content"></div>
		</tone-example>

		<script type="text/javascript">
			const reverseDelay = new Tone.ReverseDelay().toDestination();

			const synth = new Tone.Synth().connect(reverseDelay);

			piano({
				parent: document.querySelector("#content"),
				polyphonic: true,
				noteon: (note) => synth.triggerAttack(note.name),
				noteoff: (note) => synth.triggerRelease(),
			});

			ui({
				tone: reverseDelay,
				parent: document.querySelector("#content"),
			});
		</script>
	</body>
</html>
